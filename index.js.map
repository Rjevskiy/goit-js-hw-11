{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nexport async function fetchImages(query) {\n    const API_KEY = '46859112-8db04929d193e6e9d044d366e';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`; // Используйте обратные кавычки\n\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error('Ошибка при получении данных');\n    }\n    const data = await response.json();\n    return data.hits; \n}\n","export function displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = ''; \n    const markup = images.map(image => `\n        <div class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"lightbox\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n            </div>\n        </div>\n    `).join('');\n\n    gallery.innerHTML = markup;\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\nlet lightbox = new SimpleLightbox('.gallery-item a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            title: \"Warning\",\n            message: \"Please enter a search query!\",\n            position: 'topRight'\n        });\n        return;\n    }\n\n// Показать индикатор загрузки и очистить предыдущие результаты\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    fetchImages(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.info({\n                    title: \"Sorry\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight'\n                });\n                return;\n            }\n// Обновляем SimpleLightbox \n            displayImages(images);\n            lightbox.refresh(); \n        })\n        .catch(error => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Failed to fetch images. Please try again later.\",\n                position: 'topRight'\n            });\n        })\n// Скрываем индикатор загрузки        \n        .finally(() => {\n            loader.style.display = 'none'; \n        });\n});\n"],"names":["fetchImages","query","url","response","displayImages","images","gallery","markup","image","form","input","loader","lightbox","SimpleLightbox","event","iziToast","error"],"mappings":"6vBAEO,eAAeA,EAAYC,EAAO,CAGrC,MAAMC,EAAM,qEAAgCD,CAAK,2DAE3CE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAGjD,OADa,MAAMA,EAAS,QAChB,IAChB,CCbO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GACpB,MAAMC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,uBAEhBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4BAGtCA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG1C,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,CACxB,CCXA,MAAME,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CC,EAAS,SAAS,eAAe,QAAQ,EACzCL,EAAU,SAAS,eAAe,SAAS,EACjD,IAAIM,EAAW,IAAIC,EAAe,kBAAmB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAEDJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMb,EAAQS,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACT,EAAO,CACRc,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAGDJ,EAAO,MAAM,QAAU,QACvBL,EAAQ,UAAY,GAEpBN,EAAYC,CAAK,EACZ,KAAKI,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBU,EAAS,KAAK,CACV,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CAEDX,EAAcC,CAAM,EACpBO,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMI,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kDACT,SAAU,UAC1B,CAAa,CACb,CAAS,EAEA,QAAQ,IAAM,CACXJ,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}